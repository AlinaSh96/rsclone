(()=>{"use strict";var e,t,n,r,i,o,a={4449:(e,t,n)=>{n(3543);var r=n(8735),i=n.n(r),o={title:"Flappy Bird",assetsPackPath:"".concat("./assets/","pack.json"),sceneChangeDuration:150,maxWidth:720,defaultLang:"en",maxHeight:1080,edgeMargin:10,animationDuration:300},a="#ADD8E6",s={red:173,green:216,blue:230},c=11393254,u=7322579,l=16758465,h="#007AA3",f="#90EE90",d="#FFB6C1",p=1e3,y=200,g=400,m="bestFlappyScore",v="flappySound",b="flappyMusic",w="flappyLang",x='"Potta One"',k=[{name:"Alina",gitHub:"https://github.com/AlinaSh96"},{name:"Anastasia",gitHub:"https://github.com/ivanova-anastasia"},{name:"Yevgeniya",gitHub:"https://github.com/yevgeniya-a"}],T="https://rs.school/js",S={title:{fontFamily:x,fontSize:50,fill:f,stroke:h,strokeThickness:8,align:"center"},titleHover:{stroke:f,fill:h},base:{fontFamily:x,fontSize:40,fill:h,stroke:d,strokeThickness:5,align:"center"},baseHover:{stroke:f},small:{fontFamily:x,fontSize:30,fill:h,stroke:d,strokeThickness:4,align:"center"},simple:{fontFamily:x,fontSize:22,fill:h,stroke:d,strokeThickness:5,align:"center"},simpleHover:{fill:h,stroke:d,strokeThickness:5}},_="https://rsclone-flappy-bird-be.herokuapp.com",O="authorization";function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=20,U=20,A=3,L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,Phaser.GameObjects.Image);var t=I(n);function n(e){var r,i=e.scene,o=e.x,a=e.y,s=e.texture,c=e.frame;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,i,o,a,s,c)).setScale(A),r.setOrigin(0,0),r.scene.physics.world.enable(E(r)),r.body.allowGravity=!1,r.body.setVelocityX(-y),r.body.setSize(R,U),r.scene.add.existing(E(r)),r}return n}();function M(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(e){for(var t,n=document.createElement(e),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];i&&i.length>0&&(t=n.classList).add.apply(t,M(i.filter(Boolean)));return n},G=function(e,t,n){return e.style.setProperty(t,n)},K=function(e,t,n){t.cameras.main.fadeOut(o.sceneChangeDuration,s.red,s.green,s.blue),t.time.addEvent({delay:o.sceneChangeDuration,callback:function(){t.scene.start(e,n)},callbackScope:t})},N=function(e,t){return Math.floor(Math.random()*t)+e},F=function(e,t){var n=e.sound.add(t);e.registry.get("sound")&&n.play()},q=function(e){var t=e.x,n=e.y,r=e.name,i=e.scene,o=e.onClick,a=e.originX,s=void 0===a?0:a,c=e.originY,u=void 0===c?0:c;return i.add.image(t,n,r).setOrigin(s,u).setInteractive({useHandCursor:!0}).on("pointerdown",(function(){F(i,"button"),o()})).on("pointerover",(function(){this.setFrame(1)})).on("pointerout",(function(){this.setFrame(0)}))},V=function(e,t){var n=o.edgeMargin,r=q({x:o.edgeMargin,y:n,name:"settings",scene:e,onClick:t});return r.y=-r.height-n,e.tweens.add({targets:r,y:n,duration:o.animationDuration,ease:"Back"}),r},W=function(e,t){var n=2*o.edgeMargin,r=q({x:2*o.edgeMargin,y:n,name:"back",scene:e,onClick:t});return r.y=-r.height-n,e.tweens.add({targets:r,y:n,duration:o.animationDuration,ease:"Back"}),r},z=function(e,t){var n=t.y;t.y=-t.height-t.y,e.tweens.add({targets:t,y:n,duration:o.animationDuration,ease:"Back"})},X=function(e,t){var n=t.x;t.x=-t.width-t.x,e.tweens.add({targets:t,x:n,duration:o.animationDuration,ease:"Back"})},Y=function(e,t){var n=t.x;t.x=e.sys.canvas.width,e.tweens.add({targets:t,x:n,duration:o.animationDuration,ease:"Back"})},$=function(e,t,n){return e.tweens.add({targets:t,scaleX:n,scaleY:n,duration:o.animationDuration,delay:0,ease:"Cubic.easeOut"})},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.setScale(n),$(e,t,r)},J=function(e){var t=e.add.text(e.getWidth()/2,e.getHeight()/4,o.title,S.title).setOrigin(.5,0).setInteractive().on("pointerover",(function(){this.setStyle(S.titleHover)})).on("pointerout",(function(){this.setStyle(S.title)}));return Z(e,t),t},Q=function(e,t){return e.add.text(e.width/2,o.edgeMargin,t,S.title).setOrigin(.5,0)},ee=function(e,t){return e.input.keyboard.on("keydown",t,e)},te=function(e){e.registry.get("music")?function(e){if(!e.registry.get("playing")){var t=e.sound.add("music",{loop:!0});e.registry.set("playing",t),t.play()}}(e):function(e){var t=e.registry.get("playing");t&&(t.stop(),e.registry.set("playing",null))}(e)};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var i=ce(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=17,le=12,he=3,fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(o,Phaser.GameObjects.Image);var t,n,r,i=oe(o);function o(e){var t,n=e.scene,r=e.x,a=e.y,s=e.texture,c=e.frame;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,n,r,a,s,c)).setScale(he),t.setOrigin(0,0),t.dead=!1,t.flies=!1,t.scene.physics.world.enable(se(t)),t.body.setGravityY(p),t.body.setSize(ue,le),t.jumpKey=t.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),t.scene.input.on("pointerdown",t.fly,se(t)),t.scene.add.existing(se(t)),t}return t=o,(n=[{key:"update",value:function(){this.angle<30&&(this.angle+=2),this.jumpKey.isDown&&!this.flies?this.fly():this.jumpKey.isUp&&this.flies&&(this.flies=!1),(this.y+this.height>this.scene.sys.canvas.height||this.y<-this.height)&&this.die()}},{key:"die",value:function(){this.dead||(F(this.scene,"die"),this.dead=!0)}},{key:"isDead",value:function(){return this.dead}},{key:"fly",value:function(){F(this.scene,"main"),this.flies=!0,this.body.setVelocityY(-g),this.scene.tweens.add({targets:this,angle:-20,duration:100,ease:"Power0",repeat:0,yoyo:!1})}}])&&re(t.prototype,n),r&&re(t,r),o}(),de={en:{name:"Eng",onText:"ON",offText:"OFF",highscoreText:"Highscore",menu:{playText:"Press Space to play",guestUserName:"Guest"},auth:{proceedAsGuest:"Proceed as guest",loginPlaceholder:"Login",passwordPlaceholder:"Password",showPasswordText:"Show Password",loginBtnText:"Login",signUpBtnText:"Sign up",minCharsLengthText:"- a minimum of 6 characters in length",minOneNumText:"- a minimum of 1 numeric character [0-9]",minOneLowerCaseText:"- a minimum of 1 lower case letter [a-z]",minOneUpperCaseText:"- a minimum of 1 upper case letter [A-Z]",passwordMustContainText:"Password must contain the following"},settings:{headingText:"Settings",soundText:"Sound",musicText:"Music",authorsText:"Authors",languageText:"Language",shortcutsText:"Shortcuts"},authors:{headingText:"Authors",madeByText:"Made special for",teamTitleText:"The team"},gameOver:{gameOverText:"GAME OVER",scoreText:"Score"},game:{bestText:"Best",scoreText:"Score"},shortcuts:{headingText:"Shortcuts",shortcutItemsText:[{title:"Main menu",shortcuts:["S - Show/Hide settings","T - Show/Hide statistics","Space - Start game/Enter as guest","X - Logout"]},{title:"Settings",shortcuts:["V - Turn sound on/off","M - Turn music on/off","A - Show/Hide authors","K - Show/Hide shortcuts","L - Switch language"]},{title:"In game",shortcuts:["Space - Fly up"]},{title:"Game over screen",shortcuts:["B - Back to main menu","R - Restart game"]}]},statistics:{headingText:"Statistics",playToWinText:"Play to win, but enjoy the fun!",youMustPlayText:"You must play at least one game to appear in statistics",nameText:"Name",scoreText:"Score"}},de:{name:"Deu",onText:"AUF",offText:"AUS",highscoreText:"Highscore",menu:{playText:"Drücken Sie die Leertaste",guestUserName:"Gast"},auth:{proceedAsGuest:"Fahren Sie als Gast fort",loginPlaceholder:"Login",passwordPlaceholder:"Passwort",showPasswordText:"Passwort anzeigen",loginBtnText:"Einloggen",signUpBtnText:"Anmelden",minCharsLengthText:"- mindestens 6 Zeichen lang",minOneNumText:"- mindestens 1 numeric Zeichen [0-9]",minOneLowerCaseText:"- mindestens 1 Kleinbuchstabe [a-z]",minOneUpperCaseText:"- mindestens 1 Großbuchstaben [A-Z]",passwordMustContainText:"Passwort muss enthalten"},settings:{headingText:"Einstellungen",soundText:"Klang",musicText:"Musik",authorsText:"Autoren",languageText:"Sprache",shortcutsText:"Verknüpfungen"},authors:{headingText:"Autoren",madeByText:"Speziell gemacht für",teamTitleText:"Das Team"},gameOver:{gameOverText:"SPIEL IST AUS",scoreText:"Ergebnis"},game:{bestText:"Beste",scoreText:"Ergebnis"},shortcuts:{headingText:"Verknüpfungen",shortcutItemsText:[{title:"Hauptmenü",shortcuts:["S - Einstellungen auf/aus","T - Statistiken auf/aus","Leertaste - Spiel/Als Gast eingeben","X - Ausloggen"]},{title:"Einstellungen",shortcuts:["V - Klang auf/aus","M - Musik auf/aus","A - Autoren auf/aus","K - Verknüpfungen auf/aus","L - Sprache wechseln"]},{title:"Im Spiel",shortcuts:["Leertaste - Hochfliegen"]},{title:"Spiel über dem Bildschirm",shortcuts:["B - Zurück zum Hauptmenü","R - Spiel neustarten"]}]},statistics:{headingText:"Statistik",playToWinText:"Spielen Sie, um zu gewinnen, aber genießen Sie den Spaß!",youMustPlayText:"Sie müssen mindestens ein Spiel spielen, um in der Statistik angezeigt zu werden",nameText:"Name",scoreText:"Ergebnis"}}};function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=50,xe=100,ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(s,e);var t,n,r,a=me(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,"GameScene")}return t=s,(n=[{key:"init",value:function(){this.width=this.sys.canvas.width,this.height=this.sys.canvas.height}},{key:"create",value:function(){this.scoreText=this._addScoreText(),this.setScore(0),this.town=this._addTown(),this.bird=this._addBird(),this.pipes=this.add.group({}),this._addTimer(),this._addClouds()}},{key:"update",value:function(e,t){this.bird.isDead()?this.die():(this.bird.update(),this.physics.overlap(this.bird,this.pipes,this.die,null,this),this.town.tilePositionX-=t*y/5e3)}},{key:"_getUIText",value:function(){return de[this.registry.get("lang")].game}},{key:"_addBird",value:function(){return new fe({scene:this,x:we,y:xe,texture:"bird"})}},{key:"_addPipe",value:function(e,t,n){this.pipes.add(new L({scene:this,x:e,y:t,frame:n,texture:"pipe"}))}},{key:"_addTown",value:function(){return this.add.tileSprite(0,this.height,this.width,128,"town").setOrigin(0,1)}},{key:"_addNewRowOfPipes",value:function(){this.updateScore();for(var e=this.height/60,t=this._calculatePipeHoleDifficulty(),n=N(1,e-t-1),r=0;r<e;r++)if(r<n||r>=n+t){var a=void 0;a=r===n-1?0:r===n+t?1:2,this._addPipe(this.width-o.edgeMargin,60*r,a)}var s=i().Math.RND.integerInRange(2e3,3500)-2*this._calculateGameSpeed();this.time.addEvent({delay:s,callback:this._addNewRowOfPipes.bind(this)})}},{key:"_calculateGameSpeed",value:function(){return y+5*this.score}},{key:"_addTimer",value:function(){return this.time.addEvent({delay:0,callback:this._addNewRowOfPipes.bind(this)})}},{key:"_addScoreText",value:function(){return this.add.text(this.width-o.edgeMargin,o.edgeMargin,"",S.small).setOrigin(1,0).setDepth(2)}},{key:"setScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.score=e,this.scoreText.text="".concat(this._getUIText().scoreText,": ").concat(this.score,"\n").concat(this._getUIText().bestText,": ").concat(this.registry.get("highscore"))}},{key:"updateScore",value:function(){this.setScore(this.score+1)}},{key:"die",value:function(){this.bird.die(),i().Actions.Call(this.pipes.getChildren(),(function(e){return e.body.setVelocityX(0)}),this),K("GameOverScene",this,{score:this.score})}},{key:"_addClouds",value:function(){var e=this,t=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.width,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=N(0,e.height/2),a=e.clouds.create(n,o,"clouds",N(0,21)),s=N(1,4);a.alpha=1/s*2,a.setScale(s),e.physics.world.enable(a),a.body.allowGravity=!1,a.body.setGravity(!1),a.body.velocity.x=-y/s*.5,a.setOrigin(0,.5),r&&e.time.addEvent({delay:i().Math.RND.integerInRange(3e3,1e4),callback:t,loop:!1})};this.clouds=this.add.group();for(var n=0;n<this.width;)t(n,!1),n+=N(0,100);this.time.addEvent({callback:t,loop:!1})}},{key:"_calculatePipeHoleDifficulty",value:function(){return Math.round(3+N(0,3)*(this.score/101))}}])&&ye(t.prototype,n),r&&ye(t,r),s}(i().Scene),Te=function(e,t){return localStorage.setItem(e,t)},Se=function(e){return Te(m,e)},_e=function(){return localStorage.getItem(O.localStorageName)},Oe=function(e){return Te(O.localStorageName,e)},Pe=function(){return localStorage.getItem(b)},Ce=function(e){return Te(b,e)},Ie=function(){return localStorage.getItem(v)},Be=function(e){return Te(v,e)},Ee=function(){return localStorage.getItem(w)},je=function(e){return Te(w,e)};function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var i=De(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(a,Phaser.Scene);var t,n,r,i=Le(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,{key:"MenuScene"})}return t=a,(n=[{key:"init",value:function(e){this._initUserInfo(e),this.width=this.sys.canvas.width,this.height=this.sys.canvas.height}},{key:"create",value:function(){this.settingsBtn=V(this,this.onSettingsBtnClick.bind(this)),this._createStatisticsBtn(),this.logoutBtn=this._createLogoutBtn(),this._createLoginText(),this._createHighscoreText(),this.town=this._createTownImg(),J(this),this._createBirdImg(),this._createPlayText(),this.rssImg=this._createRSSImg(),this._createPlayBtn(),ee(this,this._handleKey.bind(this))}},{key:"update",value:function(e,t){this.town.tilePositionX-=t*y/5e3}},{key:"_handleKey",value:function(e){switch(e.code){case"KeyS":this.onSettingsBtnClick();break;case"KeyT":this.onStatisticsBtnClick();break;case"KeyX":this.onLogoutBtnClick();break;case"Space":this.onPlayBtnClick()}}},{key:"_getUIText",value:function(){return de[this.registry.get("lang")].menu}},{key:"_getUIGeneralText",value:function(){return de[this.registry.get("lang")]}},{key:"_initUserInfo",value:function(e){this.registry.get("loggedIn")&&this.registry.get("user")||(this.registry.set("loggedIn",!(!e||!e.user)),this.registry.get("loggedIn")?this.registry.set("user",e.user):this.registry.set("user",this._getUIText().guestUserName),this.registry.set("highscore",localStorage.getItem(m)||0))}},{key:"_createStatisticsBtn",value:function(){var e=q({x:30+this.settingsBtn.width,y:o.edgeMargin,name:"statistics",scene:this,onClick:this.onStatisticsBtnClick.bind(this)});return z(this,e),e}},{key:"_createLogoutBtn",value:function(){var e=this.width-o.edgeMargin,t=o.edgeMargin+this.settingsBtn.height/2,n=q({x:e,y:t,name:this.registry.get("loggedIn")?"logout":"login",scene:this,onClick:this.onLogoutBtnClick.bind(this),originX:1,originY:.5});return z(this,n),n}},{key:"_createLoginText",value:function(){var e=this.width-2*o.edgeMargin-this.logoutBtn.width,t=o.edgeMargin+this.settingsBtn.height/2,n=this.add.text(e,t,this.registry.get("user"),S.simple).setOrigin(1,.5);return z(this,n),n}},{key:"_createHighscoreText",value:function(){var e=this.add.text(this.width-o.edgeMargin,2*o.edgeMargin+this.logoutBtn.height,"".concat(this._getUIGeneralText().highscoreText,": ").concat(this.registry.get("highscore")),S.base).setOrigin(1,0);Z(this,e)}},{key:"_createBirdImg",value:function(){var e=this.width/2,t=this.height/2,n=this.add.image(e,t,"bird").setOrigin(.5).setScale(3);return this.tweens.add({targets:n,angle:n.angle-7,duration:o.animationDuration,ease:"Sine.easeInOut"}),this.tweens.add({targets:n,angle:n.angle+14,y:n.y+50,duration:2*o.animationDuration,ease:"Sine.easeInOut",yoyo:1,loop:-1,delay:o.animationDuration}),n}},{key:"_createTownImg",value:function(){return this.add.tileSprite(0,this.height/2,this.width,128,"town").setOrigin(0,.5)}},{key:"_createPlayText",value:function(){var e,t=this.add.text(this.width/2,this.height/5*3,this._getUIText().playText,S.base).setOrigin(.5,0);return Z(this,t),e=t,this.tweens.add({targets:e,scale:.9,duration:o.animationDuration,delay:o.animationDuration,ease:"Linear",yoyo:1,loop:-1}),t}},{key:"_createRSSImg",value:function(){var e=this.add.image(o.edgeMargin,this.height-o.edgeMargin,"rss").setOrigin(0,1).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerup",(function(){window.open(T,"_blank")}));return X(this,e),e}},{key:"_createPlayBtn",value:function(){var e=q({x:this.width-o.edgeMargin,y:this.height-o.edgeMargin,originX:1,originY:1,name:"play",scene:this,onClick:this.onPlayBtnClick.bind(this)});return Y(this,e),e}},{key:"onLogoutBtnClick",value:function(){this.registry.set("loggedIn",!1),K("AuthScene",this)}},{key:"onSettingsBtnClick",value:function(){K("SettingsScene",this,{scene:"MenuScene"})}},{key:"onStatisticsBtnClick",value:function(){K("StatisticsScene",this)}},{key:"onPlayBtnClick",value:function(){K("GameScene",this)}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}}])&&Ue(t.prototype,n),r&&Ue(t,r),a}(),Ge=n(862),Ke=n.n(Ge);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var i=ze(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=20,Ye=2,$e=16,Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(a,Phaser.Scene);var t,n,r,i=Ve(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,{key:"BootScene"})}return t=a,(n=[{key:"init",value:function(){this.width=this.cameras.main.width,this.height=this.cameras.main.height,null===Ie()&&Be(1),null===Pe()&&Ce(1),null!==Ee()&&de[Ee()]||je(o.defaultLang),this.registry.set("sound",+Ie()),this.registry.set("music",+Pe()),this.registry.set("lang",Ee())}},{key:"preload",value:function(){this.cameras.main.setBackgroundColor(c),this._createLoadingBar(),this.load.on("progress",this._createProgressBar,this),this.load.on("complete",this._progressCompleteHandler,this),this._loadAssets()}},{key:"update",value:function(){K("AuthScene",this)}},{key:"_createProgressBar",value:function(e){this.progressBar.clear(),this.progressBar.fillStyle(l,1),this.progressBar.fillRect(this.width/4,this.height/2-$e,this.width/2*e,$e)}},{key:"_createLoadingBar",value:function(){this.loadingBar=this.add.graphics(),this.loadingBar.fillStyle(u,1),this.loadingBar.fillRect(this.width/4-Ye,this.height/2-(Xe-Ye),this.width/2+2*Ye,Xe),this.progressBar=this.add.graphics()}},{key:"_progressCompleteHandler",value:function(){this.progressBar.destroy(),this.loadingBar.destroy()}},{key:"_loadAssets",value:function(){Ke().load({google:{families:["Potta One"]}}),this.load.pack("preload",o.assetsPackPath,"preload")}}])&&Fe(t.prototype,n),r&&Fe(t,r),a}(),Je=n(5414),Qe=n.n(Je);function et(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function tt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){et(o,r,i,a,s,"next",e)}function s(e){et(o,r,i,a,s,"throw",e)}a(void 0)}))}}var nt="".concat(_,"/auth");const rt=function(e,t){return tt(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,Qe()({method:"post",baseURL:nt,url:"/login",data:{userName:e,password:t}});case 4:return r=n.sent,Oe(r.data.token),n.abrupt("return",r);case 9:return n.prev=9,n.t0=n.catch(1),console.log("login error: ".concat(n.t0)),n.abrupt("return",n.t0.response);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},it=function(e,t){return tt(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,Qe()({method:"post",baseURL:nt,url:"/register",data:{userName:e,password:t}});case 4:return r=n.sent,Oe(r.data.token),n.abrupt("return",r);case 9:return n.prev=9,n.t0=n.catch(1),n.abrupt("return",n.t0.response);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()};function ot(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function at(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ot(o,r,i,a,s,"next",e)}function s(e){ot(o,r,i,a,s,"throw",e)}a(void 0)}))}}var st="".concat(_,"/statistics");const ct=function(){return at(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,Qe()({method:"get",baseURL:st,url:"/all"});case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},ut=function(){return at(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Authorization:_e()},n=null,e.prev=2,e.next=5,Qe()({method:"get",baseURL:st,url:"",headers:t});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},lt=function(e){return at(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={Authorization:_e()},r=null,t.prev=2,t.next=5,Qe()({method:"post",baseURL:st,url:"",data:{score:e},headers:n});case 5:return r=t.sent,t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()};function ht(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){dt(o,r,i,a,s,"next",e)}function s(e){dt(o,r,i,a,s,"throw",e)}a(void 0)}))}}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(".wrapper")}var t,n,r;return t=e,(n=[{key:"render",value:function(e){this.handlers=e,document.querySelector(".auth-block")&&document.querySelector(".auth-block").remove(),this.formEl=H("div","auth-block"),this.formEl.innerHTML='\n<button class="button-link auth-block__guest-login" type="button">'.concat(e.getUIText().proceedAsGuest,'</button>\n<div class="login-form">\n  <input class="input login-form__login" type="text" placeholder="').concat(e.getUIText().loginPlaceholder,'" maxlength="15" >\n  <input class="input login-form__password" type="password" placeholder="').concat(e.getUIText().passwordPlaceholder,'" autocomplete="current-password" maxlength="15">\n  <input class="login-form__pwd-checkbox" type="checkbox"><span class="login-form__pwd-span">').concat(e.getUIText().showPasswordText,'</span>\n  <div class="login-form__buttons">\n      <button class="button login-form__login-btn"">').concat(e.getUIText().loginBtnText,'</button>\n      <button class="button login-form__sign-up-btn" >').concat(e.getUIText().signUpBtnText,'</button>\n  </div>\n  <div class="login-form__error"></div>\n<div>'),this.container.appendChild(this.formEl),this.loginInput=document.querySelector(".login-form__login"),this.loginPassword=document.querySelector(".login-form__password"),this.loginBtn=document.querySelector(".login-form__login-btn"),this.signUpBtn=document.querySelector(".login-form__sign-up-btn"),this.guestLoginBtn=document.querySelector(".auth-block__guest-login"),this.errorElement=document.querySelector(".login-form__error"),this.passwordVisibilityCheckbox=document.querySelector(".login-form__pwd-checkbox"),this.setFormWidth(e.calcFormWidth()),this._addEventListeners(e)}},{key:"setFormWidth",value:function(e){G(this.formEl,"--form-width","".concat(e,"px"))}},{key:"handleSignUpClick",value:function(e){var t=this,n=e.login;return pt(regeneratorRuntime.mark((function e(){var r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t._validatePassword(t.loginPassword.value)).length>0)){e.next=5;break}return i="".concat(t.handlers.getUIText().passwordMustContainText,": \n").concat(r.join("\n")),t.errorElement.innerText=i,e.abrupt("return");case 5:return t.errorElement.innerText="",e.next=8,it(t.loginInput.value,t.loginPassword.value);case 8:if(201!==(o=e.sent).status){e.next=18;break}return e.t0=ht,e.next=13,ut();case 13:e.t1=e.sent.data,a=(0,e.t0)(e.t1).sort((function(e,t){return t.score-e.score}))[0],n({user:t.loginInput.value,score:a?a.score:0}),e.next=19;break;case 18:t.errorElement.innerText=o.data.message;case 19:case"end":return e.stop()}}),e)})))}},{key:"handleLoginClick",value:function(e){var t=this,n=e.login;return pt(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(t.loginInput.value,t.loginPassword.value);case 2:if(200!==(r=e.sent).status){e.next=12;break}return e.t0=ht,e.next=7,ut();case 7:e.t1=e.sent.data,i=(0,e.t0)(e.t1).sort((function(e,t){return t.score-e.score}))[0],n({user:t.loginInput.value,score:i?i.score:0}),e.next=13;break;case 12:t.errorElement.innerText=r.data.reason;case 13:case"end":return e.stop()}}),e)})))}},{key:"_togglePasswordVisibility",value:function(){"password"===this.loginPassword.type?this.loginPassword.type="text":this.loginPassword.type="password"}},{key:"_addEventListeners",value:function(e){var t=this;this.loginBtn.addEventListener("click",this.handleLoginClick(e)),this.signUpBtn.addEventListener("click",this.handleSignUpClick(e)),this.guestLoginBtn.addEventListener("click",(function(){return e.login()})),this.passwordVisibilityCheckbox.addEventListener("click",(function(){return t._togglePasswordVisibility()}))}},{key:"_validatePassword",value:function(e){var t=[];return e.length<6&&t.push(this.handlers.getUIText().minCharsLengthText),e.match(/[0-9]/g)||t.push(this.handlers.getUIText().minOneNumText),e.match(/[a-z]/g)||t.push(this.handlers.getUIText().minOneLowerCaseText),e.match(/[A-Z]/g)||t.push(this.handlers.getUIText().minOneUpperCaseText),t}},{key:"destroy",value:function(){this.formEl.remove()}}])&&yt(t.prototype,n),r&&yt(t,r),e}();function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"start",value:function(e){this.authView=new gt,this.authView.render(e)}},{key:"stop",value:function(){this.authView.destroy()}}])&&mt(t.prototype,n),r&&mt(t,r),e}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=St(e);if(t){var i=St(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(o,Phaser.Scene);var t,n,r,i=kt(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,{key:"AuthScene"})}return t=o,(n=[{key:"init",value:function(){this.width=this.sys.canvas.width,this.height=this.sys.canvas.height}},{key:"create",value:function(){te(this),V(this,this.onSettingsBtnClick.bind(this)),J(this),this.authController=new vt,this.authController.start({calcFormWidth:this.calculateAuthFormWidth.bind(this),login:this.login.bind(this),getUIText:this.getUIText.bind(this)}),ee(this,this._handleKey.bind(this))}},{key:"_handleKey",value:function(e){switch(e.code){case"KeyS":if(e.target.className.includes("login-form"))break;this.onSettingsBtnClick();break;case"Space":this.login()}}},{key:"getUIText",value:function(){return de[this.registry.get("lang")].auth}},{key:"onSettingsBtnClick",value:function(){K("SettingsScene",this,{scene:"AuthScene"}),this.authController.stop()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"calculateAuthFormWidth",value:function(){return.8*this.sys.canvas.getBoundingClientRect().width}},{key:"login",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Se(e.score||0),K("MenuScene",this,e),this.authController.stop()}}])&&wt(t.prototype,n),r&&wt(t,r),o}();function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var i=Et(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(o,Phaser.Scene);var t,n,r,i=It(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,{key:"SettingsScene"})}return t=o,(n=[{key:"init",value:function(e){this.width=this.sys.canvas.width,this.height=this.sys.canvas.height,this.redirectScene=e.scene||"AuthScene"}},{key:"create",value:function(){W(this,this.onBackBtnClick.bind(this)),Q(this,this._getUIText().headingText),this._createMenuList(),ee(this,this._handleKey.bind(this))}},{key:"_getUIText",value:function(){return de[this.registry.get("lang")].settings}},{key:"_getUIGeneralText",value:function(){return de[this.registry.get("lang")]}},{key:"_handleKey",value:function(e){switch(e.code){case"KeyA":this.onAuthorsBtnClick();break;case"KeyS":case"Backspace":this.onBackBtnClick();break;case"KeyK":this.onShortcutsBtnClick();break;case"KeyM":this.onMusicBtnClick();break;case"KeyV":this.onSoundBtnClick();break;case"KeyL":this.onLangBtnClick()}}},{key:"_createMenuList",value:function(){var e=this,t=this.width/4,n=this.height/4;this.menuList=[{name:"sound".concat(this.registry.get("sound")?"On":"Off"),text:"".concat(this._getUIText().soundText,": ").concat(this.registry.get("sound")?this._getUIGeneralText().onText:this._getUIGeneralText().offText),onClick:this.onSoundBtnClick.bind(this)},{name:"music".concat(this.registry.get("music")?"On":"Off"),text:"".concat(this._getUIText().musicText,": ").concat(this.registry.get("music")?this._getUIGeneralText().onText:this._getUIGeneralText().offText),onClick:this.onMusicBtnClick.bind(this)},{name:"language",text:"".concat(this._getUIText().languageText,": ").concat(this._getUIGeneralText().name),onClick:this.onLangBtnClick.bind(this)},{name:"authors",text:this._getUIText().authorsText,onClick:this.onAuthorsBtnClick.bind(this)},{name:"shortcuts",text:this._getUIText().shortcutsText,onClick:this.onShortcutsBtnClick.bind(this)}].map((function(r){var i=r.name,o=r.onClick,a=r.text,s=q({x:t,y:n,name:i,scene:e,onClick:o,originY:.5,originX:.5}),c=e._addSettingsText({x:t+60,y:n,text:a,onClick:o});return n+=s.height+50,{btn:s,btnText:c}})),this.menuList.forEach((function(t){var n=t.btn,r=t.btnText;Z(e,n),Z(e,r)}))}},{key:"_addSettingsText",value:function(e){var t=e.x,n=e.y,r=e.text,i=e.onClick;return this.add.text(t,n,r,S.base).setOrigin(0,.5).setInteractive({useHandCursor:!0}).on("pointerup",i).on("pointerover",(function(){this.setStyle(S.baseHover)})).on("pointerout",(function(){this.setStyle(S.base)}))}},{key:"_getNextLang",value:function(){var e=this.registry.get("lang"),t=Object.keys(de),n=(t.indexOf(e)+1)%t.length;return t[n]}},{key:"_handleLangSwitch",value:function(){this.scene.start("SettingsScene")}},{key:"onBackBtnClick",value:function(){K(this.redirectScene,this)}},{key:"onSoundBtnClick",value:function(){this.registry.set("sound",this.registry.get("sound")?0:1),Be(this.registry.get("sound")),this.menuList[0].btnText.text="".concat(this._getUIText().soundText,": ").concat(this.registry.get("sound")?this._getUIGeneralText().onText:this._getUIGeneralText().offText),this.menuList[0].btn.setTexture("sound".concat(this.registry.get("sound")?"On":"Off"))}},{key:"onMusicBtnClick",value:function(){this.registry.set("music",this.registry.get("music")?0:1),Ce(this.registry.get("music")),this.menuList[1].btnText.text="".concat(this._getUIText().musicText,": ").concat(this.registry.get("music")?this._getUIGeneralText().onText:this._getUIGeneralText().offText),this.menuList[1].btn.setTexture("music".concat(this.registry.get("music")?"On":"Off")),te(this)}},{key:"onLangBtnClick",value:function(){var e=this._getNextLang();this.registry.set("lang",e),je(e),this.menuList[2].btnText.text="".concat(this._getUIText().languageText,": ").concat(this._getUIGeneralText().name),this._handleLangSwitch()}},{key:"onAuthorsBtnClick",value:function(){K("AuthorsScene",this)}},{key:"onShortcutsBtnClick",value:function(){K("ShortcutsScene",this)}}])&&Pt(t.prototype,n),r&&Pt(t,r),o}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var i=Gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(o,Phaser.Scene);var t,n,r,i=Dt(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,{key:"AuthorsScene"})}return t=o,(n=[{key:"init",value:function(){this.width=this.sys.canvas.width,this.height=this.sys.canvas.height}},{key:"create",value:function(){var e=this;W(this,this.onBackBtnClick.bind(this)),Q(this,this._getUIText().headingText);var t=this.height/5;this.madeByText=this._createMadeByText(t),t+=this.madeByText.height+30,this.rssImg=this._createRSSImg(t),t+=this.rssImg.displayHeight+120,this.teamTitleText=this._createTeamTitleText(t),t+=this.teamTitleText.height+60,this.authorList=this._createAuthorsText(t),[this.madeByText,this.teamTitleText].concat(Ut(this.authorList)).forEach((function(t){return Z(e,t)})),Z(this,this.rssImg,.1,.4),ee(this,this._handleKey.bind(this))}},{key:"_handleKey",value:function(e){switch(e.code){case"KeyA":case"Backspace":this.onBackBtnClick()}}},{key:"_getUIText",value:function(){return de[this.registry.get("lang")].authors}},{key:"_createMadeByText",value:function(e){return this.add.text(this.width/2,e,this._getUIText().madeByText,S.base).setOrigin(.5,0)}},{key:"_createRSSImg",value:function(e){var t=this;return this.add.image(this.width/2,e,"rss").setOrigin(.5,0).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerup",(function(){window.open(T,"_blank")})).on("pointerover",(function(){return $(t,t.rssImg,.45)})).on("pointerout",(function(){return $(t,t.rssImg,.4)}))}},{key:"_createTeamTitleText",value:function(e){return this.add.text(this.width/2,e,this._getUIText().teamTitleText,S.base).setOrigin(.5,0)}},{key:"_createAuthorsText",value:function(e){var t=this,n=e;return k.map((function(e){var r=e.name,i=e.gitHub,o=t.add.text(t.width/2,n,r,S.base).setOrigin(.5,0).setInteractive({useHandCursor:!0}).on("pointerup",(function(){window.open(i,"_blank")})).on("pointerover",(function(){this.setStyle(S.baseHover)})).on("pointerout",(function(){this.setStyle(S.base)}));return n+=o.height+30,o}))}},{key:"onBackBtnClick",value:function(){K("SettingsScene",this)}}])&&Lt(t.prototype,n),r&&Lt(t,r),o}();function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var i=zt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(a,Phaser.Scene);var t,n,r,i=Vt(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,{key:"ShortcutsScene"})}return t=a,(n=[{key:"init",value:function(){this.width=this.sys.canvas.width,this.height=this.sys.canvas.height}},{key:"create",value:function(){var e=this;W(this,this.onBackBtnClick.bind(this));var t=Q(this,this._getUIText().headingText),n=2*o.edgeMargin+t.height;this._getUIText().shortcutItemsText.forEach((function(t){var r=t.title,i=t.shortcuts,o=e.add.text(e.width/2,n,r,S.base).setOrigin(.5,0);Z(e,o),n+=o.height+10,i.forEach((function(t){var r=e.add.text(e.width/2,n,t,S.small).setOrigin(.5,0);Z(e,r),n+=r.height+10}))})),ee(this,this._handleKey.bind(this))}},{key:"_handleKey",value:function(e){switch(e.code){case"KeyK":case"Backspace":this.onBackBtnClick()}}},{key:"_getUIText",value:function(){return de[this.registry.get("lang")].shortcuts}},{key:"onBackBtnClick",value:function(){K("SettingsScene",this)}}])&&Ft(t.prototype,n),r&&Ft(t,r),a}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var i=tn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return en(this,n)}}function en(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(c,Phaser.Scene);var t,n,r,i,a,s=Qt(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,{key:"GameOverScene"})}return t=c,(n=[{key:"init",value:(i=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.score,this.width=this.sys.canvas.width,this.height=this.sys.canvas.height,this.score=n,this.initialHighscore=this.registry.get("highscore"),!this.registry.get("loggedIn")){e.next=8;break}return e.next=8,lt(this.score);case 8:Se(Math.max(this.score,this.initialHighscore));case 9:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){$t(o,n,r,a,s,"next",e)}function s(e){$t(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return a.apply(this,arguments)})},{key:"create",value:function(){var e=this.height/10;this.gameOverText=this._createGameOverText(e),e+=this.gameOverText.height+100,this.scoreText=this._createScoreText(e),e=this.height/2,this._createGoToMenuBtn(e),this._createRestartBtn(e),ee(this,this._handleKey.bind(this))}},{key:"_handleKey",value:function(e){switch(e.code){case"KeyB":this.onMainMenuBtnClick();break;case"KeyR":this.onRestartBtnClick()}}},{key:"_getUIText",value:function(){return de[this.registry.get("lang")].gameOver}},{key:"_getUIGeneralText",value:function(){return de[this.registry.get("lang")]}},{key:"_createGameOverText",value:function(e){var t=this.add.text(this.width/2,e,this._getUIText().gameOverText,S.title).setOrigin(.5,0);return z(this,t),t}},{key:"_createScoreText",value:function(e){var t=this.add.text(this.width/2,e,"".concat(this._getUIText().scoreText,": ").concat(this.score,"\n").concat(this._getUIGeneralText().highscoreText,": ").concat(this.initialHighscore),S.base).setOrigin(.5,0);return z(this,t),t}},{key:"_createGoToMenuBtn",value:function(e){var t=q({x:this.width/2-2*o.edgeMargin,y:e,originX:1,originY:0,name:"home",scene:this,onClick:this.onMainMenuBtnClick.bind(this)});return X(this,t),t}},{key:"_createRestartBtn",value:function(e){var t=q({x:this.width/2+2*o.edgeMargin,y:e,originX:0,originY:0,name:"restart",scene:this,onClick:this.onRestartBtnClick.bind(this)});return Y(this,t),t}},{key:"onMainMenuBtnClick",value:function(){K("MenuScene",this)}},{key:"onRestartBtnClick",value:function(){K("GameScene",this)}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}}])&&Zt(t.prototype,n),r&&Zt(t,r),c}();function rn(e){return function(e){if(Array.isArray(e))return on(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function an(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){an(o,r,i,a,s,"next",e)}function s(e){an(o,r,i,a,s,"throw",e)}a(void 0)}))}}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(".wrapper")}var t,n,r,i,o;return t=e,(n=[{key:"render",value:(o=sn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector(".statistics-block")&&document.querySelector(".statistics-block").remove(),this.formEl=H("div","statistics-block"),this.formEl.innerHTML='\n        <h2 class="win-text">'.concat(t.getUIText().playToWinText,'</h2>\n        <p class="info-text">').concat(t.getUIText().youMustPlayText,'</p>\n            <table class="statisticsTable">\n                <tr> \n                    <th class="name-sort" >').concat(t.getUIText().nameText,' ↑↓</th>\n                    <th class="score-sort" >').concat(t.getUIText().scoreText," ↑↓</th>\n                </tr>\n            </table>\n    "),this.container.appendChild(this.formEl),this.tableHeadName=document.querySelector(".name-sort"),this.tableHeadScore=document.querySelector(".score-sort"),this.table=document.querySelector(".statisticsTable tbody"),this.tableEl=document.querySelector(".statisticsTable"),this.setFormWidth(t.calcFormWidth()),e.t0=(n=this.table).append,e.t1=n,e.t2=rn,e.next=15,this.getUsersData();case 15:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),this._addEventListeners(t);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_sortTable",value:function(e){for(var t,n,r,i,o=0,a=!0,s="asc";a;){a=!1;var c=this.tableEl.rows;for(t=1;t<c.length-1;t++)if(i=!1,n=c[t].getElementsByTagName("TD")[e],r=c[t+1].getElementsByTagName("TD")[e],"asc"===s){if(1===e?parseInt(n.innerHTML.toLowerCase(),10)>parseInt(r.innerHTML.toLowerCase(),10):n.innerHTML.toLowerCase()>r.innerHTML.toLowerCase()){i=!0;break}}else if("desc"===s&&(1===e?parseInt(n.innerHTML.toLowerCase(),10)<parseInt(r.innerHTML.toLowerCase(),10):n.innerHTML.toLowerCase()<r.innerHTML.toLowerCase())){i=!0;break}i?(c[t].parentNode.insertBefore(c[t+1],c[t]),a=!0,o+=1):0===o&&"asc"===s&&(s="desc",a=!0)}}},{key:"getUsersData",value:(i=sn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t=[];return e.forEach((function(e){var n=H("tr"),r=H("td");r.innerText=e.user;var i=H("td");i.innerText=e.score,n.append(r,i),t.push(n)})),t},e.next=3,ct();case 3:return n=e.sent,e.abrupt("return",t(n.data));case 5:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"setFormWidth",value:function(e){G(this.formEl,"--form-width","".concat(e,"px"))}},{key:"_addEventListeners",value:function(){var e=this;this.tableHeadName.addEventListener("click",(function(){return e._sortTable(0)})),this.tableHeadScore.addEventListener("click",(function(){return e._sortTable(1)}))}},{key:"destroy",value:function(){this.formEl.remove()}}])&&cn(t.prototype,n),r&&cn(t,r),e}();function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yn(e);if(t){var i=yn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}function pn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(o,Phaser.Scene);var t,n,r,i=dn(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,{key:"StatisticsScene"})}return t=o,(n=[{key:"init",value:function(){this.width=this.sys.canvas.width,this.height=this.sys.canvas.height}},{key:"create",value:function(){W(this,this.onBackBtnClick.bind(this)),Q(this,this.getUIText().headingText),this.statisticsView=new un,this.statisticsView.render({calcFormWidth:this.calculateStatisticsFormWidth.bind(this),getUIText:this.getUIText.bind(this)}),ee(this,this._handleKey.bind(this))}},{key:"calculateStatisticsFormWidth",value:function(){return.9*this.sys.canvas.getBoundingClientRect().width}},{key:"_handleKey",value:function(e){switch(e.code){case"KeyT":case"Backspace":this.statisticsView.destroy(),this.onBackBtnClick()}}},{key:"getUIText",value:function(){return de[this.registry.get("lang")].statistics}},{key:"onBackBtnClick",value:function(){this.statisticsView.destroy(),K("MenuScene",this)}}])&&hn(t.prototype,n),r&&hn(t,r),o}();const mn={backgroundColor:a,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:720,height:1080},input:{keyboard:!0},physics:{default:"arcade",arcade:{gravity:{y:0}}},parent:"game",scene:[Ze,_t,He,jt,Kt,Xt,ke,nn,gn],audio:{disableWebAudio:!0},render:{pixelArt:!0,antialias:!1}};function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.game=new(i().Game)(mn)}}])&&vn(t.prototype,n),r&&vn(t,r),e}();function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.body}var t,n,r;return t=e,(n=[{key:"render",value:function(){var e=H("div","wrapper"),t=H("div","game");t.id="game",e.appendChild(t),this.container.appendChild(e)}}])&&wn(t.prototype,n),r&&wn(t,r),e}();function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appView=new xn,this.gameController=new bn}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.appView.render(),this.gameController.start()}}])&&kn(t.prototype,n),r&&kn(t,r),e}())).start()},3543:(e,t,n)=>{var r=n(3648)(e.id,{publicPath:"./",locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)}},s={};function c(e){if(s[e])return s[e].exports;var t=s[e]={id:e,exports:{}},n={id:e,module:t,factory:a[e],require:c};return c.i.forEach((function(e){e(n)})),t=n.module,n.factory.call(t.exports,t,t.exports,n.require),t.exports}c.m=a,c.c=s,c.i=[],c.x=e=>{},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.hu=e=>e+"."+c.h()+".hot-update.js",c.miniCssF=e=>(179===e?"main":e)+"."+{459:"31d6cfe0d16ae931b73c"}[e]+".css",c.hmrF=()=>"main."+c.h()+".hot-update.json",c.h=()=>"024ff0ad59f0e2d79a5e",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},c.l=(t,n,r)=>{if(e[t])e[t].push(n);else{var i,o;if(void 0!==r)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var u=a[s];if(u.getAttribute("src")==t){i=u;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=t),e[t]=[n];var l=(n,r)=>{i.onerror=i.onload=null,clearTimeout(h);var o=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(r))),n)return n(r)},h=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload),o&&document.head.appendChild(i)}},(()=>{var e,t,n,r,i={},o=c.c,a=[],s=[],u="idle";function l(e){u=e;for(var t=0;t<s.length;t++)s[t].call(null,e)}function h(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return h(e)}))}function f(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return l("check"),c.hmrM().then((function(r){if(!r)return l(y()?"ready":"idle"),null;l("prepare");var i=[];return t=[],n=[],Promise.all(Object.keys(c.hmrC).reduce((function(e,t){return c.hmrC[t](r.c,r.r,r.m,e,n,i),e}),[])).then((function(){return h((function(){return e?p(e):(l("ready"),i)}))}))}))}function d(e){return"ready"!==u?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):p(e)}function p(e){e=e||{},y();var t=n.map((function(t){return t(e)}));n=void 0;var i,o=t.map((function(e){return e.error})).filter(Boolean);if(o.length>0)return l("abort"),Promise.resolve().then((function(){throw o[0]}));l("dispose"),t.forEach((function(e){e.dispose&&e.dispose()})),l("apply");var a=function(e){i||(i=e)},s=[];return t.forEach((function(e){if(e.apply){var t=e.apply(a);if(t)for(var n=0;n<t.length;n++)s.push(t[n])}})),i?(l("fail"),Promise.resolve().then((function(){throw i}))):r?p(e).then((function(e){return s.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(l("idle"),Promise.resolve(s))}function y(){if(r)return n||(n=[]),Object.keys(c.hmrI).forEach((function(e){r.forEach((function(t){c.hmrI[e](t,n)}))})),r=void 0,!0}c.hmrD=i,c.i.push((function(p){var y,g,m,v=p.module,b=function(n,r){var i=o[r];if(!i)return n;var s=function(t){if(i.hot.active){if(o[t]){var s=o[t].parents;-1===s.indexOf(r)&&s.push(r)}else a=[r],e=t;-1===i.children.indexOf(t)&&i.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+r),a=[];return n(t)},c=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&"e"!==f&&Object.defineProperty(s,f,c(f));return s.e=function(e){return function(e){switch(u){case"ready":return l("prepare"),t.push(e),h((function(){l("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},s}(p.require,p.id);v.hot=(y=p.id,g=v,m={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:e!==y,_requireSelf:function(){a=g.parents.slice(),e=y,c(y)},active:!0,accept:function(e,t){if(void 0===e)m._selfAccepted=!0;else if("function"==typeof e)m._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)m._acceptedDependencies[e[n]]=t||function(){};else m._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)m._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)m._declinedDependencies[e[t]]=!0;else m._declinedDependencies[e]=!0},dispose:function(e){m._disposeHandlers.push(e)},addDisposeHandler:function(e){m._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=m._disposeHandlers.indexOf(e);t>=0&&m._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,u){case"idle":n=[],Object.keys(c.hmrI).forEach((function(e){c.hmrI[e](y,n)})),l("ready");break;case"ready":Object.keys(c.hmrI).forEach((function(e){c.hmrI[e](y,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(y)}},check:f,apply:d,status:function(e){if(!e)return u;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:i[y]},e=void 0,m),v.parents=a,v.children=[],a=[],p.require=b})),c.hmrC={},c.hmrI={}})(),(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),t=(e,t,n,r)=>{var i=document.createElement("link");return i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=o=>{if(i.onerror=i.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,i.parentNode.removeChild(i),r(c)}},i.href=t,document.head.appendChild(i),i},n=(e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===e||i===t)return a}},r=[],i=[],o=e=>({dispose:()=>{for(var e=0;e<r.length;e++){var t=r[e];t.parentNode&&t.parentNode.removeChild(t)}r.length=0},apply:()=>{for(var e=0;e<i.length;e++)i[e].rel="stylesheet";i.length=0}}),c.hmrC.miniCss=(e,a,s,u,l,h)=>{l.push(o),e.forEach((e=>{var o=c.miniCssF(e),a=c.p+o;const s=n(o,a);s&&u.push(new Promise(((n,o)=>{var c=t(e,a,(()=>{c.as="style",c.rel="preload",n()}),o);r.push(s),i.push(c)})))}))},(()=>{var e,t,n,r,i={179:0},o=[[6153,459],[4449,459]],a={};function s(e){return new Promise(((t,n)=>{a[e]=t;var r=c.p+c.hu(e),i=new Error;c.l(r,(t=>{if(a[e]){a[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;i.message="Loading hot update chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n(i)}}))}))}function u(o){function a(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),o=i.id,a=i.chain,u=c.c[o];if(u&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var l=0;l<u.parents.length;l++){var h=u.parents[l],f=c.c[h];if(f){if(f.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([h]),moduleId:o,parentId:h};-1===t.indexOf(h)&&(f.hot._acceptedDependencies[o]?(n[h]||(n[h]=[]),s(n[h],[o])):(delete n[h],t.push(h),r.push({chain:a.concat([h]),id:h})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}c.f&&delete c.f.jsonpHmr,e=void 0;var u={},l=[],h={},f=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var d in t)if(c.o(t,d)){var p,y=t[d],g=!1,m=!1,v=!1,b="";switch((p=y?a(d):{type:"disposed",moduleId:d}).chain&&(b="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":o.onDeclined&&o.onDeclined(p),o.ignoreDeclined||(g=new Error("Aborted because of self decline: "+p.moduleId+b));break;case"declined":o.onDeclined&&o.onDeclined(p),o.ignoreDeclined||(g=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+b));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(p),o.ignoreUnaccepted||(g=new Error("Aborted because "+d+" is not accepted"+b));break;case"accepted":o.onAccepted&&o.onAccepted(p),m=!0;break;case"disposed":o.onDisposed&&o.onDisposed(p),v=!0;break;default:throw new Error("Unexception type "+p.type)}if(g)return{error:g};if(m)for(d in h[d]=y,s(l,p.outdatedModules),p.outdatedDependencies)c.o(p.outdatedDependencies,d)&&(u[d]||(u[d]=[]),s(u[d],p.outdatedDependencies[d]));v&&(s(l,[p.moduleId]),h[d]=f)}t=void 0;for(var w,x=[],k=0;k<l.length;k++){var T=l[k];c.c[T]&&c.c[T].hot._selfAccepted&&h[T]!==f&&!c.c[T].hot._selfInvalidated&&x.push({module:T,require:c.c[T].hot._requireSelf,errorHandler:c.c[T].hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete i[e]})),n=void 0;for(var t,r=l.slice();r.length>0;){var o=r.pop(),a=c.c[o];if(a){var s={},h=a.hot._disposeHandlers;for(k=0;k<h.length;k++)h[k].call(null,s);for(c.hmrD[o]=s,a.hot.active=!1,delete c.c[o],delete u[o],k=0;k<a.children.length;k++){var f=c.c[a.children[k]];f&&((e=f.parents.indexOf(o))>=0&&f.parents.splice(e,1))}}}for(var d in u)if(c.o(u,d)&&(a=c.c[d]))for(w=u[d],k=0;k<w.length;k++)t=w[k],(e=a.children.indexOf(t))>=0&&a.children.splice(e,1)},apply:function(e){for(var t in h)c.o(h,t)&&(c.m[t]=h[t]);for(var n=0;n<r.length;n++)r[n](c);for(var i in u)if(c.o(u,i)){var a=c.c[i];if(a){w=u[i];for(var s=[],f=[],d=0;d<w.length;d++){var p=w[d],y=a.hot._acceptedDependencies[p];if(y){if(-1!==s.indexOf(y))continue;s.push(y),f.push(p)}}for(var g=0;g<s.length;g++)try{s[g].call(null,w)}catch(t){o.onErrored&&o.onErrored({type:"accept-errored",moduleId:i,dependencyId:f[g],error:t}),o.ignoreErrored||e(t)}}}for(var m=0;m<x.length;m++){var v=x[m],b=v.module;try{v.require(b)}catch(t){if("function"==typeof v.errorHandler)try{v.errorHandler(t)}catch(n){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:b,error:n,originalError:t}),o.ignoreErrored||e(n),e(t)}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:b,error:t}),o.ignoreErrored||e(t)}}return l}}}self.webpackHotUpdate=(e,n,i)=>{for(var o in n)c.o(n,o)&&(t[o]=n[o]);i&&r.push(i),a[e]&&(a[e](),a[e]=void 0)},c.hmrI.jsonp=function(e,i){t||(t={},r=[],n=[],i.push(u)),c.o(t,e)||(t[e]=c.m[e])},c.hmrC.jsonp=function(o,a,l,h,f,d){f.push(u),e={},n=a,t=l.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],o.forEach((function(t){c.o(i,t)&&void 0!==i[t]&&(h.push(s(t)),e[t]=!0)})),c.f&&(c.f.jsonpHmr=function(t,n){e&&!c.o(e,t)&&c.o(i,t)&&void 0!==i[t]&&(n.push(s(t)),e[t]=!0)})},c.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(c.p+c.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))};var l=e=>{},h=(e,t)=>{for(var n,r,[a,s,u,h]=t,f=0,d=[];f<a.length;f++)r=a[f],c.o(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in s)c.o(s,n)&&(c.m[n]=s[n]);for(u&&u(c),e&&e(t);d.length;)d.shift()();return h&&o.push.apply(o,h),l()},f=self.webpackChunk=self.webpackChunk||[];function d(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return 0===o.length&&(c.x(),c.x=e=>{}),e}f.forEach(h.bind(null,0)),f.push=h.bind(null,f.push.bind(f));var p=c.x;c.x=()=>(c.x=p||(e=>{}),(l=d)())})(),c.x()})();